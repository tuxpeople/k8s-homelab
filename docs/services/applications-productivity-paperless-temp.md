## Paperless (**aktiv**)
- **Pfad**: `kubernetes/apps/productivity/paperless`.
- **Zweck**: Dokumenten-DMS inklusive Redis, Tika, Gotenberg side controllers + public share ingress.
- **Ingress**:
  - Internal: `paperless.${SECRET_DOMAIN}` (internal, Authelia).
  - Public share: `documents.${SECRET_CH_DOMAIN}` (external, share-only).
- **Storage**:
  - PVC 5 Gi (Longhorn) für SQLite-Datenbank (`/data/db.sqlite3`).
  - NFS mount `/volume2/scanner` für Dokumente.
  - Additional ConfigMap-mounted scripts + secret-based passwords.
  - Resource heavy: main container requests 500 mCPU/1.1 Gi, limit 2.5 CPU/2.5 Gi. Aux containers (redis/tika/gotenberg) also defined.
- **Secrets**: `paperless-secret-values`, `paperless-secret-passwords`, `paperless-secrets` (Litestream MinIO creds).
- **Backups**: Multi-layer:
  - **SQLite-DB**: Litestream Sidecar repliziert kontinuierlich (10s sync) zu MinIO `litestream/paperless`. Init-Container stellt DB automatisch wieder her. MinIO Lifecycle Policy löscht Objekte >7 Tage (siehe `docs/backups.md`). Config: `app/litestream-configmap.yaml`. RPO ≤10s.
  - **Files**: Synology NFS (rsync snapshots) + Restic job. RPO ≤24 h.
- **Monitoring**: Alert on Paperless queue backlog, ingestion errors, Cron `SCAN_INTERVAL` (30 min). Export metrics via custom script? TODO.
- **Runbooks**: Already `runbooks.md` re: Paperless backlog. Add "Public share issues" & "NFS offline" steps. Reconcile `flux reconcile kustomization paperless --with-source -n productivity`.
