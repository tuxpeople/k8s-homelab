apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: networking
  name: cloudflare-ddns
spec:
  selector:
    matchLabels:
      app: cloudflare-ddns
  replicas: 1
  template:
    metadata:
      labels:
        app: cloudflare-ddns
    spec:
      containers:
      - name: cloudflare-ddns
        env:
        - name: "TZ"
          value: "Europe/Zurich"
        image: timothyjmiller/cloudflare-ddns:latest
        imagePullPolicy: Always
        resources:
          requests:
            cpu: 10m
            memory: 10Mi
          limits:
            cpu: 500m
            memory: 200Mi
        volumeMounts:
        - mountPath: /config.json
          name: cloudflare-ddns-config
          subPath: config.json
      volumes:
        - name: cloudflare-ddns-config
          secret:
            secretName: cloudflare-ddns-config
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: cloudflare-ddns-config
  namespace: networking
spec:
  encryptedData:
    config.json: AgBK1pS0fLafylArmOwgtNkHFozPfIZZgVEjuFJuUal/12ZAnivY+2SLzEMUxVQh6y8H9t47ikVhL3qwdZr8bnOf5rvp1RCFsVTZVvVGQs7auKLisrWQ4gBS9g+Q+DlAQqMdjQIdVwhIOWzKOWQx8fAcy4PF1FoQ7DxY5IXUP5Q14MLuK/TVX/1vJaUAO/qZxoXFomHjcKX8/ghke5gkS4pinXEoh9VihmDZpkCFEcQ9mtlfzsFEt+FWHjlMXJA6TJwidI7gpHnvBXs1ZJU1r2fcs/L/ylWUKfz+49aMMa1ue3E1Ly8sbkwW04KzZvlHqsW3GVQMiYiyNV22SrjeK4cTGCcqIjtdHspuSIr4M32VyOGKWhXHcdOQm2siremG8hCFtSIlxCSerAGLpIazOv6IXwxzUyWbe6wo6BuG9Dz8RGN5qO0yrPML7tLjYzsYJY9GwcmB0z7RvNMMlpGW3rTBF6MLq961+ccuKuPdZBhCuiNzEZISKz+THW5ha8veOXP4Ra1TWlfLGNzV0ng1rtlihFOxgpmih5PYlz42uKWzCzwmC2LgVT9t5uEH6+WK1PcHS9/Aa8ongmZ4uKp77jVojwRufl3S1Z1nkfBOawimESyVYDCmZaWuCgdFxZ+tebG6atW1dMqB5s0cqGPLdbimgcXN+vaoOou0Xs/AucP5nvHlAlQHFNouhUdx0as2RlAMX9Ll9IKidudA3mpHEi8Q9UI6X5n9EaU/mcxBHMkyNWtaZhhOhk23Q+kGZy7b5pO1sX4YtIKFDyYVFE6COg1H1VVm2kqW6n1xL9zAKBvtqyzOLW0hkOQBgllZAndD7vgiPeQhx6cm/pBkIkhgT3MyWUXTqkiLN2rCO4hcT5zbOsLS7+3C1oo8OsWThXY8NUrxoUkxVQtdmtB4mjcjfTJhL5OmVKkZOTlMpmyzCCnt54KTignhRw4e2eaWjPpWzY3w8FC7mYWCzUEHwkJfs2fIR+3dDgDXMNIkxreGwrS2GjEdv7k3JXWk1BrT7DUWZYy0t0DYQaom/74PXYut2mVgCw1Ys1RImG4PUCrONlim1w9LyRGBnM3TM3wnqwF86mE5oDnYJJHMXb0kim43TBJSb6l0aPm3
  template:
    data: null
    metadata:
      creationTimestamp: null
      name: cloudflare-ddns-config
      namespace: networking
