apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: networking
  name: cloudflare-ddns
spec:
  selector:
    matchLabels:
      app: cloudflare-ddns
  replicas: 1
  template:
    metadata:
      labels:
        app: cloudflare-ddns
    spec:
      containers:
      - name: cloudflare-ddns
        env:
        - name: "TZ"
          value: "Europe/Zurich"
        image: timothyjmiller/cloudflare-ddns:latest
        imagePullPolicy: Always
        resources:
          requests:
            cpu: 10m
            memory: 10Mi
          limits:
            cpu: 500m
            memory: 200Mi
        volumeMounts:
        - mountPath: /config.json
          name: cloudflare-ddns-config
          subPath: config.json
      volumes:
        - name: cloudflare-ddns-config
          secret:
            secretName: cloudflare-ddns-config
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: cloudflare-ddns-config
  namespace: networking
spec:
  encryptedData:
    config.json: AgCyMbfENg1yWLz0xgvdRxe00Ag3J8oYe6lhqQfMtPP8vRNHXOvVIPWx2Za5/mao5QoXcFgV0/vYjhLGUa9zn0q02SzCoufw9yRy3YSUMf3zLejFjrNS9TYmUR/OJIdwQTHZWHVDR0rmLQUhlV/if0PHwKPLCqeh6vHyHmd5qdV7tYggEOAMZOQeCJwJL2XYzKxabEZt0DguQvrPeW+5jifgsyn4KWsUCCMPN4dbja//Guesui0IdUJ74b20G+L9H4k9faGpRgIDTQYPlxIyofxvgh+hLhSAZCUpzZ3AOmS7UgIlIq63O6v2+cjZfrO0+JRyVizfnCfQnFTiLWY7RfRwG+Eajy+zPfWDydmq9dSY/VmHGu28f2Y7N9xhNfbiUfZ/3RRdaLVP6Ru8On5iPnwzsqqLo+KjuB0Eci32VTzxm1wtpceVVAHV9iagzkp+3ZiVCWuYQupxBA5XjbUikG9EwSy0UgTlTc6j3hQUTP3cmgr6QMY8hABzHdL8ZeT4cdc4K5t1/nqUtwn/4EW3NycsaKB3JC9iSVggHuJGBI25VVCAn549nXHMK4MyYiK1BqUgQEJWjLANT8dqmM+jyzrEuJ6rR36cVDUVNVl6pIHDKh5IN/RmcsdKvawBZO+qs+NXqN3nOq4Hpa8f+tg1ILnVWksofuLqMNxhKYaoPssgIRrDodDbAMeaS1S9hy9sXmyXXdqevMRYD/NSFn4PKoTfmc4tEbNwik7nM+HgD/qF4JZMzxjdmufspGPLvldU+HGpKngiiW5CqHXH3L3rh94X8l5Gw2mQwcgEBLFDoXKdjWOMDsyUkznFc5krgl5obMG6dQExocEgZmC2/PNVrsAvGh5c0zkM/QHK/xSsrMd0HlXuwsGtHSUdWNkv2PjbtWOClxGqoaDD3dqNsP5hZ8NfQBFs+2BbDh0tkuEqT1sBvNtJEg3zX+zhJHDmuwRNcXs4RcGO+VIuCby4KmXl1zFPG6iLkiytt0ETsTOv4GKoqbNAStnvwUfQQ5waqFNSW3XexPvwpvPRi6KFezfAiMZrJDY6ox5ILNu69+l2KkuWJkez0oTeF64ZWCNw4g7iT1kYJknLIye16CC7+Rb+r91MPObgIhWaK46evyjN7seBPXpwioNkV7njnbg0teIxzmJ1AuCXMeTIN0sscTSWL8Xy6DeN/+Cet6pSfuyiD0tCp5cT8f2UFFlAAPBW0VpL95PqT/aiJdajl7+8n+OkJmp7DzIqSw7pqD8s9Yf5JxPYCiU5xXuakXj0XYwqpY/WIc5vMbhkFplumtFlvVp/8Ovr9gYtBloUv52nKlzjNuqkwRD8Nks8sQuf8oakhO1pP3WYX4KWGhwSmehclN0mfspEaWTBNWIo84WBbXJSUmN/SLBcdC3ZfoT8lmUycIDsw5755iuJXEcmfud/2qwk/Q==
  template:
    data: null
    metadata:
      creationTimestamp: null
      name: cloudflare-ddns-config
      namespace: networking
