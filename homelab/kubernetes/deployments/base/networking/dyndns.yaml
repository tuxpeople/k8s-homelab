apiVersion: apps/v1
kind: Deployment
metadata:
  namespace: networking
  name: cloudflare-ddns
spec:
  selector:
    matchLabels:
      app: cloudflare-ddns
  replicas: 1
  template:
    metadata:
      labels:
        app: cloudflare-ddns
    spec:
      containers:
      - name: cloudflare-ddns
        env:
        - name: "TZ"
          value: "Europe/Zurich"
        image: timothyjmiller/cloudflare-ddns:latest
        imagePullPolicy: Always
        resources:
          requests:
            cpu: 10m
            memory: 10Mi
          limits:
            cpu: 500m
            memory: 200Mi
        volumeMounts:
        - mountPath: /config.json
          name: cloudflare-ddns-config
          subPath: config.json
      volumes:
        - name: cloudflare-ddns-config
          secret:
            secretName: cloudflare-ddns-config
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: cloudflare-ddns-config
  namespace: networking
spec:
  encryptedData:
    config.json: AgBnnpoV36vaJJ/1Yl2gw1yuW1K4szXhDs+MnY0SB0hPePfmbVPeVaWLvj9ckCOWZJ2FlFIKVx7RBukNqKFzjGFR2f7MwQNQL0ROQMLwEV8/J8aUyB5+M2WgiRiYqKEmeqCxSdCKXtp/wIB0BMiCMI6ByNRWoG4hL4WVHoHdI1EGnI6vF1VhYunSvQbFWzLtKP4HTnKU5uO1JCu2aYWhAiMrkfUyDbh2TxzxXcV0cBz5Auv6gVo5bxlj2anBjrR1qRensDOdIhk7MFeKutBKKdeAAHuKQ0nHkxAo+rW72Z6NCRqo2lwdFDlnCh/mkPT6Hrcq2RuakbKpDm/T5dyVwDbT7lw01h2CqOd+yJtWfj4ejyZiBF51qJImD6vW2ooDAuGIN9KZ8wIK/kBIw9/Dtw01ABynMS8XSOdDtWYYwApNGTa8OaLWqWX6EXsSwqjhIyUw0xefPF2m4Rz1QocW3RQr8zumhGqJgi2XOoRqYG1kHspD0V5dYkBxFUwmY3VhVguRbvetN9f8GzwYDOosXs9Udua8xZy2NucybySyA1xHIDR37ZjqbVS232GK7vi7T5UfGzhlMmxrUjJcjWKTKVkYQ5yXNxUZ6doiofxGOzmQFX+QVIWj4vyWdcrBwlDTu5zGUdpaaQVaSng2OwS3zx2jHcim+ggXDQgfmrBzAR1uyGGDT6wXJKbSCHwPU7lCnO1aajcAzEhJIYpvBV8gdYLbg/AEkarc3jPowSa8qkwujA+4dJS4LopnY5nSnDb9zAH2wLzBJ5v/XtLndbxb/y7pzxax4uct8jHCW8SU61fsDlkHSJ8ItNGerBAPOCrA/MFrI+6SA0LpsN1/ba1OgtLtwTzYGZP4sLY1pdh3n8jtXKA4XNKOf3UGROjrWfiKfrrBMe3wkMzowCIV99wMEqkzupoH0UNlc6jpv3D4Ab3B3aNXFLzIMf9rhRwGwSCBTrKIOte7vftOdMSbIR9wXZV5gB1qjdhWrcSdsiOCDmNE80kV5UFkCG3vtRtZ/7akgmUxYmftrty8NyZBtLpJD3ApGVmAJf0Khu3kDW7oxUdULa+wcpIadjz8IG8XFL4IkPPSZsTlnxhHUBVkYtRLDl4etmRgX1YxFKUTL6sae5CrCYiLlcwZHK1tFoATsEiwZQuyWl2smUoGR7pLofw4+vj0xmm5obnPUhSVlvruOZdkJJZLVDBl3VRBNN5pDXoDpr1V85Iej/EQBKhhbrOYWfd9coRpt4VaouTvdDfwrq7YrpcblVOKA/N4rWOP7pxFa6vAjMHpuU0vKxuyuhoWVPETn6qOu1OFlxxDCJL9zNkFPt1Gbzt+jqPBKWe3iItjM/7kHRtN1y57onAQfzR5An+k4AYKV2nYy6L7Z7qD6UCYs3pAU4oUG5RuNhb5dz968QkkWBRMPPY=
  template:
    data: null
    metadata:
      creationTimestamp: null
      name: cloudflare-ddns-config
      namespace: networking
